{
  "time": "2026-01-24T14:24:22.798198-08:00",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_arm64.s:1268:runtime.goexit"
  ],
  "transcript": "Delta 6732, proceed direct Gale, contact New York Departure 126.80",
  "whisper_duration_ms": 478.227,
  "audio_duration_ms": 5376,
  "processor": "GPU: Apple M4 Pro, 14 CPU / 20 GPU cores, 48GB",
  "callsign": "DAL6732",
  "command": "DGAYEL FC",
  "stt_aircraft": {
    "Delta 56": {
      "Callsign": "DAL56",
      "AircraftType": "A21N",
      "Fixes": {
        "Cimble": "CIMBL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Pucky": "PUCKY",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Vadder": "VADDR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway two two left": "I2L",
        "I L S runway two two right": "I2R",
        "r-nav runway two two right": "R2R",
        "r-nav x-ray runway two two left": "R2L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PUCKY1",
      "Altitude": 19000,
      "State": "arrival",
      "ControllerFrequency": "2E",
      "TrackingController": "2E",
      "AddressingForm": 0
    },
    "Delta 6732": {
      "Callsign": "DAL6732",
      "AircraftType": "A21N",
      "Fixes": {
        "Gayel": "GAYEL",
        "Muslin": "MSLIN"
      },
      "CandidateApproaches": null,
      "AssignedApproach": "",
      "SID": "JFK5",
      "STAR": "",
      "Altitude": 5155,
      "State": "departure",
      "ControllerFrequency": "2J",
      "TrackingController": "5E",
      "AddressingForm": 0
    },
    "German Cargo 161 heavy": {
      "Callsign": "BOX161",
      "AircraftType": "B77L",
      "Fixes": {
        "Calverton": "CCC",
        "Cimble": "CIMBL",
        "Crail": "CRAIL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rober": "ROBER",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway two two left": "I2L",
        "I L S runway two two right": "I2R",
        "r-nav runway two two right": "R2R",
        "r-nav x-ray runway two two left": "R2L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PARCH4",
      "Altitude": 12000,
      "State": "arrival",
      "ControllerFrequency": "2K",
      "TrackingController": "2K",
      "AddressingForm": 0
    },
    "New Zealand 79 heavy": {
      "Callsign": "ANZ79",
      "AircraftType": "B789",
      "Fixes": {
        "Cimble": "CIMBL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway two two left": "I2L",
        "I L S runway two two right": "I2R",
        "r-nav runway two two right": "R2R",
        "r-nav x-ray runway two two left": "R2L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 9960,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"Delta 6732, proceed direct Gale, contact New York Departure 126.80\"",
    "[local-stt] normalized words: [delta 6732 proceed direct gale contact new york departure 12680]",
    "[local-stt] tokens: 10",
    "[local-stt]   token[0]: Text=\"delta\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"6732\" Type=1 Value=6732",
    "[local-stt]   token[2]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"gale\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"contact\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"new\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"york\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"departure\" Type=0 Value=-1",
    "[local-stt]   token[9]: Text=\"12680\" Type=1 Value=12680",
    "[local-stt] MatchCallsign: 10 tokens, 4 aircraft",
    "[local-stt]   exact match: \"delta 6732\" -\u003e \"DAL6732\" (consumed 2)",
    "[local-stt] callsign match: Callsign=\"DAL6732\" SpokenKey=\"Delta 6732\" Conf=1.00 Consumed=2",
    "[local-stt] aircraft context: State=\"departure\" Altitude=5155 Fixes=2 Approaches=0 AssignedApproach=\"\"",
    "[local-stt]   fix: \"Gayel\" -\u003e \"GAYEL\"",
    "[local-stt]   fix: \"Muslin\" -\u003e \"MSLIN\"",
    "[local-stt] command tokens after disregard: 8",
    "[local-stt]   token[0]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"gale\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"contact\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"new\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"york\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"departure\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"12680\" Type=1 Value=12680",
    "[local-stt]   position ID: found command keyword \"proceed\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 8 tokens",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[direct gale contact]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"direct\" against 2 fixes",
    "[local-stt]   extractFix: no match found for \"direct\"",
    "[local-stt]   no match at token[0]=\"proceed\", skipping",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[gale contact new]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"gale\" against 2 fixes",
    "[local-stt]   extractFix: matched \"gale\" -\u003e \"GAYEL\" (fuzzy 0.83)",
    "[local-stt]   tryMatchTemplate \"direct_fix\": cmd=\"DGAYEL\" argStr=\"GAYEL\" consumed=2",
    "[local-stt]   matched command: \"DGAYEL\" (conf=0.83, consumed=2, isThen=false)",
    "[local-stt]   tryMatchTemplate \"frequency_change\": cmd=\"FC\" argStr=\"\" consumed=1",
    "[local-stt]   matched command: \"FC\" (conf=1.00, consumed=1, isThen=false)",
    "[local-stt]   no match at token[4]=\"new\", skipping",
    "[local-stt]   no match at token[5]=\"york\", skipping",
    "[local-stt]   tryMatchTemplate \"depart_fix_heading\": keywords matched, consumed=1, next tokens=[12680]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"12680\" against 2 fixes",
    "[local-stt]   extractFix: no match found for \"12680\"",
    "[local-stt]   tryMatchTemplate \"depart_fix_heading\": fix extraction failed, tokens=[{ 12680 1 12680 9}] fixes=2",
    "[local-stt]   no match at token[6]=\"departure\", skipping",
    "[local-stt]   no match at token[7]=\"12680\", skipping",
    "[local-stt] ParseCommands: result=[DGAYEL FC] (avgConf=0.91)",
    "[local-stt] parsed commands: [DGAYEL FC] (conf=0.91)",
    "[local-stt] validated commands: [DGAYEL FC] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"DAL6732 DGAYEL FC\" (conf=0.91, time=428.208Âµs) ==="
  ]
}