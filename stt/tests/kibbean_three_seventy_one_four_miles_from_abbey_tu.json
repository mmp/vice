{
  "time": "2026-02-06T01:12:40.126502425Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:674:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "Kibbean Three Seventy One four miles from abbey turn right heading three uh correction flight heading zero one zero maintain two thousand until established quit ILS runway four right approach",
  "whisper_duration_ms": 194.95,
  "audio_duration_ms": 12232,
  "processor": "GPU: NVIDIA GeForce RTX 5070 (11943MB)",
  "whisper_model": "ggml-medium.en-jlvatc-q5_0.bin",
  "callsign": "BWA371",
  "command": "H010 A20 CI4R",
  "stt_aircraft": {
    "Caribbean Airlines three 71": {
      "Callsign": "BWA371",
      "AircraftType": "B738",
      "Fixes": {
        "Ebee": "EBBEE",
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Zetal": "ZETAL"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway four Left": "I4L",
        "I L S runway four Right": "I4R",
        "I L S runway one three Left": "I3L",
        "I L S runway three one Left": "I1L",
        "I L S runway three one Right": "I1R",
        "I L S runway two two Left": "I2L",
        "I L S runway two two Right": "I2R",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two Left": "R2L",
        "r-nav zulu runway four Left": "R4L",
        "r-nav zulu runway four Right": "R4R",
        "r-nav zulu runway one three Left": "R3L",
        "r-nav zulu runway one three Right": "R3R",
        "r-nav zulu runway three one Left": "R1L",
        "r-nav zulu runway three one Right": "R1R",
        "r-nav zulu runway two two Right": "R2R"
      },
      "ApproachFixes": {
        "BVA": {
          "Zalpo": "ZALPO"
        },
        "I1L": {
          "Chant": "CHANT",
          "Deer Park": "DPK",
          "Meals": "MEALS",
          "Zachs": "ZACHS"
        },
        "I1R": {
          "Catod": "CATOD",
          "Maldey": "MALDE",
          "Zulab": "ZULAB"
        },
        "I2L": {
          "Cimble": "CIMBL",
          "Detgy": "DETGY",
          "Hair": "HAIRR",
          "Haupt": "HAUPT",
          "Lefer": "LEFER",
          "Norton": "NRTON",
          "Rosley": "ROSLY",
          "Sajul": "SAJUL",
          "Seagull": "CEEGL",
          "Tapper": "TAPPR",
          "Zalpo": "ZALPO"
        },
        "I2R": {
          "Cimble": "CIMBL",
          "Corvet": "CORVT",
          "Detgy": "DETGY",
          "Hair": "HAIRR",
          "Haupt": "HAUPT",
          "Lefer": "LEFER",
          "Matter": "MATTR",
          "Norton": "NRTON",
          "Sajul": "SAJUL",
          "Seagull": "CEEGL",
          "Tapper": "TAPPR"
        },
        "I3L": {
          "Buzz-on": "BUZON",
          "Caxun": "CAXUN",
          "Covir": "COVIR",
          "Kimchi": "KMCHI",
          "Telex": "TELEX",
          "Ux-hub": "UXHUB"
        },
        "I4L": {
          "Aroke": "AROKE",
          "Crystal": "KRSTL"
        },
        "I4R": {
          "Ebee": "EBBEE",
          "Zetal": "ZETAL"
        },
        "PVA": {
          "Canarsie": "CRI"
        },
        "R1L": {
          "Chant": "CHANT",
          "Cuvku": "CUVKU",
          "Deer Park": "DPK",
          "Rissy": "RISSY",
          "Seske": "SESKE",
          "Zachs": "ZACHS"
        },
        "R1R": {
          "Cameron": "CAMRN",
          "Catod": "CATOD",
          "Deer Park": "DPK",
          "Eyeguide": "IGIDE",
          "Puzulu": "PZULU",
          "Video": "VIDIO"
        },
        "R2L": {
          "Capit": "CAPIT",
          "Deer Park": "DPK",
          "E-knee": "ENEEE",
          "Gigpe": "GIGPE",
          "Wikol": "WIKOL",
          "Zosdo": "ZOSDO"
        },
        "R2R": {
          "Deer Park": "DPK",
          "Heneb": "HENEB",
          "Rivra": "RIVRA"
        },
        "R3L": {
          "Assault": "ASALT",
          "Canarsie": "CNRSE",
          "Lisa": "LEISA",
          "Robje": "ROBJE",
          "Silgy": "SILJY"
        },
        "R3R": {
          "Assault": "ASALT",
          "Mayma": "MAYMA",
          "Nucry": "NUCRI",
          "Pebo": "PEEBO"
        },
        "R4L": {
          "Crystal": "KRSTL",
          "Repre": "REPRE"
        },
        "R4R": {
          "Ebee": "EBBEE",
          "Veru": "VERRU"
        }
      },
      "AssignedApproach": "ILS Runway 4 Right",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 3000,
      "State": "arrival",
      "ControllerFrequency": "2A",
      "TrackingController": "2A",
      "AddressingForm": 0,
      "LAHSORunways": [
        "4L",
        "22R",
        "4R",
        "22L",
        "4L",
        "22R",
        "13L",
        "31R",
        "13L",
        "31R",
        "13R",
        "31L",
        "4L",
        "22R",
        "4L",
        "22R",
        "4R",
        "22L",
        "13L",
        "31R",
        "13R",
        "31L",
        "13L",
        "31R"
      ]
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"Kibbean Three Seventy One four miles from abbey turn right heading three uh correction flight heading zero one zero maintain two thousand until established quit ILS runway four right approach\"",
    "[local-stt] normalized words: [kibbean 3 71 4 miles from abbey turn right heading 3 uh correction flight heading 0 1 0 maintain 2 thousand until established quit ils runway 4 right approach]",
    "[local-stt] tokens: 24",
    "[local-stt]   token[0]: Text=\"kibbean\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"3714\" Type=1 Value=3714",
    "[local-stt]   token[2]: Text=\"miles\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"from\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"abbey\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"turn\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"right\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"heading\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"3\" Type=1 Value=3",
    "[local-stt]   token[9]: Text=\"uh\" Type=0 Value=-1",
    "[local-stt]   token[10]: Text=\"correction\" Type=0 Value=-1",
    "[local-stt]   token[11]: Text=\"flight\" Type=0 Value=-1",
    "[local-stt]   token[12]: Text=\"heading\" Type=0 Value=-1",
    "[local-stt]   token[13]: Text=\"010\" Type=1 Value=10",
    "[local-stt]   token[14]: Text=\"maintain\" Type=0 Value=-1",
    "[local-stt]   token[15]: Text=\"20\" Type=2 Value=20",
    "[local-stt]   token[16]: Text=\"until\" Type=0 Value=-1",
    "[local-stt]   token[17]: Text=\"established\" Type=0 Value=-1",
    "[local-stt]   token[18]: Text=\"quit\" Type=0 Value=-1",
    "[local-stt]   token[19]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[20]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[21]: Text=\"4\" Type=1 Value=4",
    "[local-stt]   token[22]: Text=\"right\" Type=0 Value=-1",
    "[local-stt]   token[23]: Text=\"approach\" Type=0 Value=-1",
    "[local-stt] MatchCallsign: 24 tokens, 1 aircraft",
    "[local-stt] matchCallsignWithPatterns: 24 tokens, 1 aircraft",
    "[local-stt]   pattern \"exact_phrase\": no results",
    "[local-stt]   pattern \"airline_flight\": 1 results",
    "[local-stt]     result 0: \"Caribbean Airlines three 71\" (airline=0.841, flight=0.942, skip=0)",
    "[local-stt]     pattern \"airline_flight\": selected \"Caribbean Airlines three 71\" (airline=0.84, flight=0.94, skip=0)",
    "[local-stt]   pattern \"airline_only\": 1 results",
    "[local-stt]     result 0: \"Caribbean Airlines three 71\" (airline=0.841, flight=0.000, skip=0)",
    "[local-stt]     pattern \"airline_only\": selected \"Caribbean Airlines three 71\" (airline=0.84, flight=0.00, skip=0)",
    "[local-stt]   pattern \"flight_only\": 1 results",
    "[local-stt]     result 0: \"Caribbean Airlines three 71\" (airline=0.500, flight=0.650, skip=0)",
    "[local-stt]     pattern \"flight_only\": selected \"Caribbean Airlines three 71\" (airline=0.50, flight=0.65, skip=0)",
    "[local-stt]   pattern \"airline_flight\" matched: \"BWA371\" (conf=0.96, consumed=2, addressingForm=0, spokenKey=\"Caribbean Airlines three 71\")",
    "[local-stt] callsign match: Callsign=\"BWA371\" SpokenKey=\"Caribbean Airlines three 71\" Conf=0.96 Consumed=2",
    "[local-stt] aircraft context: State=\"arrival\" Altitude=3000 Fixes=4 Approaches=17 AssignedApproach=\"ILS Runway 4 Right\" LAHSORunways=[4L 22R 4R 22L 4L 22R 13L 31R 13L 31R 13R 31L 4L 22R 4L 22R 4R 22L 13L 31R 13R 31L 13L 31R]",
    "[local-stt]   fix: \"J F K\" -\u003e \"KJFK\"",
    "[local-stt]   fix: \"Zetal\" -\u003e \"ZETAL\"",
    "[local-stt]   fix: \"Ebee\" -\u003e \"EBBEE\"",
    "[local-stt]   fix: \"Kennedy\" -\u003e \"KJFK\"",
    "[local-stt]   approach: \"r-nav zulu runway one three Right\" -\u003e \"R3R\"",
    "[local-stt]   approach: \"r-nav zulu runway three one Left\" -\u003e \"R1L\"",
    "[local-stt]   approach: \"I L S runway four Left\" -\u003e \"I4L\"",
    "[local-stt]   approach: \"r-nav zulu runway four Right\" -\u003e \"R4R\"",
    "[local-stt]   approach: \"I L S runway two two Left\" -\u003e \"I2L\"",
    "[local-stt]   approach: \"I L S runway three one Right\" -\u003e \"I1R\"",
    "[local-stt]   approach: \"I L S runway four Right\" -\u003e \"I4R\"",
    "[local-stt]   approach: \"r-nav zulu runway one three Left\" -\u003e \"R3L\"",
    "[local-stt]   approach: \"Belmont Visual runway two two Left\" -\u003e \"BVA\"",
    "[local-stt]   approach: \"r-nav zulu runway three one Right\" -\u003e \"R1R\"",
    "[local-stt]   approach: \"r-nav zulu runway four Left\" -\u003e \"R4L\"",
    "[local-stt]   approach: \"Parkway Visual runway one three Left\" -\u003e \"PVA\"",
    "[local-stt]   approach: \"I L S runway one three Left\" -\u003e \"I3L\"",
    "[local-stt]   approach: \"r-nav x-ray runway two two Left\" -\u003e \"R2L\"",
    "[local-stt]   approach: \"I L S runway two two Right\" -\u003e \"I2R\"",
    "[local-stt]   approach: \"r-nav zulu runway two two Right\" -\u003e \"R2R\"",
    "[local-stt]   approach: \"I L S runway three one Left\" -\u003e \"I1L\"",
    "[local-stt] command tokens after disregard: 13",
    "[local-stt]   token[0]: Text=\"flight\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"heading\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"010\" Type=1 Value=10",
    "[local-stt]   token[3]: Text=\"maintain\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"20\" Type=2 Value=20",
    "[local-stt]   token[5]: Text=\"until\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"established\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"quit\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[9]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[10]: Text=\"4\" Type=1 Value=4",
    "[local-stt]   token[11]: Text=\"right\" Type=0 Value=-1",
    "[local-stt]   token[12]: Text=\"approach\" Type=0 Value=-1",
    "[local-stt] ParseCommands: 13 tokens",
    "[local-stt]   no match at token[0]=\"flight\", skipping",
    "[local-stt]   matched command: \"H010\" (conf=1.00, consumed=2, isThen=false)",
    "[local-stt]   matched command: \"A20\" (conf=1.00, consumed=2, isThen=false)",
    "[local-stt]   no match at token[5]=\"until\", skipping",
    "[local-stt]   no match at token[6]=\"established\", skipping",
    "[local-stt]   no match at token[7]=\"quit\", skipping",
    "[local-stt]   matchApproachByTypeAndNumber: type=\"ils\" variant=\"\" runway=\"four right\" -\u003e \"I4R\" (consumed=4)",
    "[local-stt]   implicit approach match: \"CI4R\" (consumed=5)",
    "[local-stt] ParseCommands: result=[H010 A20 CI4R] (avgConf=1.00)",
    "[local-stt] parsed commands: [H010 A20 CI4R] (conf=1.00)",
    "[local-stt] validated commands: [H010 A20 CI4R] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"BWA371 H010 A20 CI4R\" (conf=0.96, time=1.0563ms) ==="
  ]
}