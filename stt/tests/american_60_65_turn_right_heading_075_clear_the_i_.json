{
  "time": "2026-01-25T22:03:42.214544998Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "American 60, 65, turn right heading 075, clear the I L S runway 10 left.",
  "whisper_duration_ms": 522.592,
  "audio_duration_ms": 5888,
  "processor": "GPU: AMD Radeon RX 7600 (8176MB)",
  "callsign": "AAL6065",
  "command": "R075 CI0L",
  "stt_aircraft": {
    "Allegiant 6458": {
      "Callsign": "AAY6458",
      "AircraftType": "A319",
      "Fixes": {
        "Fort Lauderdale": "KFLL",
        "Holid": "HOLID",
        "Nova": "NOVAE",
        "Warrior": "WAROR",
        "gamvy": "GAMVE"
      },
      "CandidateApproaches": {
        "I L S runway one zero left": "I0L",
        "I L S runway one zero right": "I0R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 10L",
      "SID": "",
      "STAR": "CUUDA3",
      "Altitude": 4000,
      "State": "arrival",
      "ControllerFrequency": "1F",
      "TrackingController": "1F",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 1544": {
      "Callsign": "AAL1544",
      "AircraftType": "A321",
      "Fixes": {
        "Bills": "BILZZ",
        "Ines": "INESS",
        "Leg": "LLEGG",
        "Miami": "KMIA",
        "grit": "GRITT"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "BNFSH3",
      "Altitude": 5362,
      "State": "arrival",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 430": {
      "Callsign": "AAL430",
      "AircraftType": "B738",
      "Fixes": {
        "Ines": "INESS",
        "Leg": "LLEGG",
        "Miami": "KMIA",
        "grit": "GRITT"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "VIICE2",
      "Altitude": 3000,
      "State": "arrival",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 6065": {
      "Callsign": "AAL6065",
      "AircraftType": "B738",
      "Fixes": {
        "Fort Lauderdale": "KFLL",
        "Holid": "HOLID",
        "Nova": "NOVAE",
        "Wanar": "WANAR",
        "Warrior": "WAROR",
        "gamvy": "GAMVE"
      },
      "CandidateApproaches": {
        "I L S runway one zero left": "I0L",
        "I L S runway one zero right": "I0R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 10L",
      "SID": "",
      "STAR": "CUUDA3",
      "Altitude": 3000,
      "State": "arrival",
      "ControllerFrequency": "1F",
      "TrackingController": "1F",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Avianca 573": {
      "Callsign": "AVA573",
      "AircraftType": "A319",
      "Fixes": {
        "Ines": "INESS",
        "Miami": "KMIA"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "SNDBR3",
      "Altitude": 1731,
      "State": "on approach",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Spirit Wings 6970": {
      "Callsign": "NKS6970",
      "AircraftType": "A320",
      "Fixes": {
        "Fort Lauderdale": "KFLL",
        "Nova": "NOVAE"
      },
      "CandidateApproaches": {
        "I L S runway one zero left": "I0L",
        "I L S runway one zero right": "I0R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 10L",
      "SID": "",
      "STAR": "TEEKY3",
      "Altitude": 2867,
      "State": "on approach",
      "ControllerFrequency": "1F",
      "TrackingController": "1F",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Spirit Wings 9870": {
      "Callsign": "NKS9870",
      "AircraftType": "A321",
      "Fixes": {
        "Asere": "ACERE",
        "Ines": "INESS",
        "Leg": "LLEGG",
        "Miami": "KMIA",
        "grit": "GRITT"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "FROGZ4",
      "Altitude": 7246,
      "State": "arrival",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"American 60, 65, turn right heading 075, clear the I L S runway 10 left.\"",
    "[local-stt] normalized words: [american 60 65 turn right heading 075 clear the ils runway 10 left]",
    "[local-stt] tokens: 13",
    "[local-stt]   token[0]: Text=\"american\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"60\" Type=1 Value=60",
    "[local-stt]   token[2]: Text=\"65\" Type=1 Value=65",
    "[local-stt]   token[3]: Text=\"turn\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"right\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"heading\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"075\" Type=1 Value=75",
    "[local-stt]   token[7]: Text=\"clear\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"the\" Type=0 Value=-1",
    "[local-stt]   token[9]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[10]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[11]: Text=\"10\" Type=1 Value=10",
    "[local-stt]   token[12]: Text=\"left\" Type=0 Value=-1",
    "[local-stt] MatchCallsign: 13 tokens, 7 aircraft",
    "[local-stt]   candidate \"American 430\" (ICAO=\"AAL430\"): score=0.80 consumed=1",
    "[local-stt]   candidate \"American 6065\" (ICAO=\"AAL6065\"): score=1.10 consumed=3",
    "[local-stt]   candidate \"Spirit Wings 6970\" (ICAO=\"NKS6970\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Allegiant 6458\" (ICAO=\"AAY6458\"): score=0.88 consumed=3",
    "[local-stt]   candidate \"Spirit Wings 9870\" (ICAO=\"NKS9870\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 1544\" (ICAO=\"AAL1544\"): score=0.80 consumed=1",
    "[local-stt]   candidate \"Avianca 573\" (ICAO=\"AVA573\"): score=0.57 consumed=1",
    "[local-stt]   candidate \"American 6065\" at pos 1: score=1.00 (adjusted=0.90) consumed=2",
    "[local-stt]   candidate \"Allegiant 6458\" at pos 1: score=0.85 (adjusted=0.77) consumed=2",
    "[local-stt]   candidate \"Allegiant 6458\" at pos 2: score=0.85 (adjusted=0.68) consumed=1",
    "[local-stt]   candidate \"American 6065\" at pos 2: score=0.85 (adjusted=0.68) consumed=1",
    "[local-stt]   accepted: \"AAL6065\" (conf=1.10, consumed=3, startPos=0)",
    "[local-stt] callsign match: Callsign=\"AAL6065\" SpokenKey=\"American 6065\" Conf=1.10 Consumed=3",
    "[local-stt] aircraft context: State=\"arrival\" Altitude=3000 Fixes=6 Approaches=2 AssignedApproach=\"ILS Runway 10L\"",
    "[local-stt]   fix: \"Warrior\" -\u003e \"WAROR\"",
    "[local-stt]   fix: \"Nova\" -\u003e \"NOVAE\"",
    "[local-stt]   fix: \"Wanar\" -\u003e \"WANAR\"",
    "[local-stt]   fix: \"Fort Lauderdale\" -\u003e \"KFLL\"",
    "[local-stt]   fix: \"Holid\" -\u003e \"HOLID\"",
    "[local-stt]   fix: \"gamvy\" -\u003e \"GAMVE\"",
    "[local-stt]   approach: \"I L S runway one zero left\" -\u003e \"I0L\"",
    "[local-stt]   approach: \"I L S runway one zero right\" -\u003e \"I0R\"",
    "[local-stt] command tokens after disregard: 10",
    "[local-stt]   token[0]: Text=\"turn\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"right\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"heading\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"075\" Type=1 Value=75",
    "[local-stt]   token[4]: Text=\"clear\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"the\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"10\" Type=1 Value=10",
    "[local-stt]   token[9]: Text=\"left\" Type=0 Value=-1",
    "[local-stt]   position ID: found command keyword \"turn\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 10 tokens",
    "[local-stt]   extractHeading: 75 from \"075\" (has leading zero, unambiguous)",
    "[local-stt]   tryMatchTemplate \"turn_right_heading\": cmd=\"R075\" argStr=\"075\" consumed=4",
    "[local-stt]   extractHeading: 75 from \"075\" (has leading zero, unambiguous)",
    "[local-stt]   tryMatchTemplate \"turn_right_only\": cmd=\"R075\" argStr=\"075\" consumed=4",
    "[local-stt]   matched command: \"R075\" (conf=1.00, consumed=4, isThen=false)",
    "[local-stt]   extractFix: trying to match tokens[0]=\"ils\" against 6 fixes",
    "[local-stt]   extractFix: no match found for \"ils\"",
    "[local-stt]   cleared_direct_fix: keywords matched but fix extraction failed, returning SAYAGAIN/FIX",
    "[local-stt]   matchApproachByTypeAndNumber: type=\"ils\" runway=\"one zero left\" -\u003e \"I0L\" (consumed=4)",
    "[local-stt]   tryMatchTemplate \"cleared_approach\": cmd=\"CI0L\" argStr=\"I0L\" consumed=6",
    "[local-stt]   matched command: \"CI0L\" (conf=0.95, consumed=6, isThen=false)",
    "[local-stt] ParseCommands: result=[R075 CI0L] (avgConf=0.97)",
    "[local-stt] parsed commands: [R075 CI0L] (conf=0.97)",
    "[local-stt] validated commands: [R075 CI0L] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"AAL6065 R075 CI0L\" (conf=1.07, time=0s) ==="
  ]
}