{
  "time": "2026-01-25T22:08:30.180273277Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "Air Marist, 178 climb, 18, 16,000",
  "whisper_duration_ms": 325.781,
  "audio_duration_ms": 2944,
  "processor": "GPU: NVIDIA GeForce RTX 3060 Ti (8238MB)",
  "callsign": "AMX178",
  "command": "C160",
  "stt_aircraft": {
    "AeroMexico 178": {
      "Callsign": "AMX178",
      "AircraftType": "E190",
      "Fixes": {
        "Glads": "GLADZ",
        "Rutleg": "RUTLG",
        "gator": "GAYTR",
        "selfie": "SELFI"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "GLADZ4",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 459": {
      "Callsign": "AAL459",
      "AircraftType": "B38M",
      "Fixes": {
        "Bongos": "BNGOS",
        "Deals": "DEALZ",
        "Moreno": "MRENO",
        "Niblet": "NIBLT",
        "live": "LIIVV"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "BNGOS4",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 493": {
      "Callsign": "AAL493",
      "AircraftType": "B738",
      "Fixes": {
        "Deals": "DEALZ",
        "Hurcin": "HURCN",
        "Jones": "JOENZ",
        "Niblet": "NIBLT",
        "Salt": "CSALT",
        "live": "LIIVV"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "HURCN4",
      "STAR": "",
      "Altitude": 1456,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Spirit Wings 2061": {
      "Callsign": "NKS2061",
      "AircraftType": "A321",
      "Fixes": {
        "Agers": "AGERS",
        "Alton": "ALTNN",
        "Deals": "DEALZ",
        "Ferry": "FARRY",
        "Salt": "CSALT",
        "live": "LIIVV",
        "perts": "PERTS"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "ALTNN2",
      "STAR": "",
      "Altitude": 2540,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"Air Marist, 178 climb, 18, 16,000\"",
    "[local-stt] normalized words: [air marist 178 climb 18 16000]",
    "[local-stt] tokens: 6",
    "[local-stt]   token[0]: Text=\"air\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"marist\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"178\" Type=1 Value=178",
    "[local-stt]   token[3]: Text=\"climb\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"18\" Type=1 Value=18",
    "[local-stt]   token[5]: Text=\"16000\" Type=1 Value=16000",
    "[local-stt] MatchCallsign: 6 tokens, 4 aircraft",
    "[local-stt]   candidate \"AeroMexico 178\" (ICAO=\"AMX178\"): score=0.91 consumed=3",
    "[local-stt]   candidate \"American 493\" (ICAO=\"AAL493\"): score=0.71 consumed=1",
    "[local-stt]   candidate \"Spirit Wings 2061\" (ICAO=\"NKS2061\"): score=0.67 consumed=1",
    "[local-stt]   candidate \"American 459\" (ICAO=\"AAL459\"): score=0.71 consumed=1",
    "[local-stt]   candidate \"AeroMexico 178\" at pos 1: score=1.00 (adjusted=0.90) consumed=2",
    "[local-stt]   candidate \"AeroMexico 178\" at pos 2: score=1.00 (adjusted=0.80) consumed=1",
    "[local-stt]   accepted: \"AMX178\" (conf=0.91, consumed=3, startPos=0)",
    "[local-stt] callsign match: Callsign=\"AMX178\" SpokenKey=\"AeroMexico 178\" Conf=0.91 Consumed=3",
    "[local-stt] aircraft context: State=\"departure\" Altitude=5000 Fixes=4 Approaches=0 AssignedApproach=\"\"",
    "[local-stt]   fix: \"selfie\" -\u003e \"SELFI\"",
    "[local-stt]   fix: \"gator\" -\u003e \"GAYTR\"",
    "[local-stt]   fix: \"Rutleg\" -\u003e \"RUTLG\"",
    "[local-stt]   fix: \"Glads\" -\u003e \"GLADZ\"",
    "[local-stt] command tokens after disregard: 3",
    "[local-stt]   token[0]: Text=\"climb\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"18\" Type=1 Value=18",
    "[local-stt]   token[2]: Text=\"16000\" Type=1 Value=16000",
    "[local-stt]   position ID: found command keyword \"climb\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 3 tokens",
    "[local-stt]   extractAltitude: skipping garbled 18, using 160",
    "[local-stt]   tryMatchTemplate \"climb\": cmd=\"C160\" argStr=\"160\" consumed=3",
    "[local-stt]   matched command: \"C160\" (conf=1.00, consumed=3, isThen=false)",
    "[local-stt] ParseCommands: result=[C160] (avgConf=1.00)",
    "[local-stt] parsed commands: [C160] (conf=1.00)",
    "[local-stt] validated commands: [C160] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"AMX178 C160\" (conf=0.91, time=520.1Âµs) ==="
  ]
}