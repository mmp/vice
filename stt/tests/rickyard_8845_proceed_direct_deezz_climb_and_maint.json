{
  "time": "2026-01-21T17:20:35.34672-08:00",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_arm64.s:1268:runtime.goexit"
  ],
  "transcript": "Rickyard 8845, proceed direct Deezz, climb and maintain flight level one nine or zero",
  "whisper_duration_ms": 492.34,
  "audio_duration_ms": 4736,
  "processor": "GPU: Apple M4 Pro, 14 CPU / 20 GPU cores, 48GB",
  "callsign": "RPA8845",
  "command": "DDEEZZ C190",
  "stt_aircraft": {
    "AAL83": {
      "Callsign": "AAL83",
      "AircraftType": "B738",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY",
        "Vadder": "VADDR"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "PUCKY1",
      "Altitude": 12603,
      "State": "arrival",
      "ControllerFrequency": "2E",
      "TrackingController": "2E",
      "AddressingForm": 0
    },
    "AFR7461": {
      "Callsign": "AFR7461",
      "AircraftType": "B77W",
      "Fixes": {
        "Cimble": "CIMBL",
        "Crail": "CRAIL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "John F Kennedy International Airport": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PARCH4",
      "Altitude": 4876,
      "State": "arrival",
      "ControllerFrequency": "2K",
      "TrackingController": "2K",
      "AddressingForm": 0
    },
    "Air France 7461 heavy": {
      "Callsign": "AFR7461",
      "AircraftType": "B77W",
      "Fixes": {
        "Cimble": "CIMBL",
        "Crail": "CRAIL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "John F Kennedy International Airport": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PARCH4",
      "Altitude": 4876,
      "State": "arrival",
      "ControllerFrequency": "2K",
      "TrackingController": "2K",
      "AddressingForm": 0
    },
    "American 83": {
      "Callsign": "AAL83",
      "AircraftType": "B738",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY",
        "Vadder": "VADDR"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "PUCKY1",
      "Altitude": 12603,
      "State": "arrival",
      "ControllerFrequency": "2E",
      "TrackingController": "2E",
      "AddressingForm": 0
    },
    "Brickyard 8845": {
      "Callsign": "RPA8845",
      "AircraftType": "E75L",
      "Fixes": {
        "Candor": "CANDR",
        "Deez": "DEEZZ"
      },
      "CandidateApproaches": null,
      "AssignedApproach": "",
      "SID": "DEEZZ5",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "2J",
      "TrackingController": "2J",
      "AddressingForm": 0
    },
    "DAL7973": {
      "Callsign": "DAL7973",
      "AircraftType": "B738",
      "Fixes": {
        "Robbinsville": "RBV"
      },
      "CandidateApproaches": null,
      "AssignedApproach": "",
      "SID": "JFK5",
      "STAR": "",
      "Altitude": 2824,
      "State": "departure",
      "ControllerFrequency": "2J",
      "TrackingController": "5S",
      "AddressingForm": 0
    },
    "DAL90": {
      "Callsign": "DAL90",
      "AircraftType": "A21N",
      "Fixes": {
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 2581,
      "State": "on approach",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "Delta 7973": {
      "Callsign": "DAL7973",
      "AircraftType": "B738",
      "Fixes": {
        "Robbinsville": "RBV"
      },
      "CandidateApproaches": null,
      "AssignedApproach": "",
      "SID": "JFK5",
      "STAR": "",
      "Altitude": 2824,
      "State": "departure",
      "ControllerFrequency": "2J",
      "TrackingController": "5S",
      "AddressingForm": 0
    },
    "Delta 90": {
      "Callsign": "DAL90",
      "AircraftType": "A21N",
      "Fixes": {
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 2581,
      "State": "on approach",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "Emirates 4US super": {
      "Callsign": "UAE4US",
      "AircraftType": "A388",
      "Fixes": {
        "Cimble": "CIMBL",
        "Crail": "CRAIL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "John F Kennedy International Airport": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rober": "ROBER",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PARCH4",
      "Altitude": 12000,
      "State": "arrival",
      "ControllerFrequency": "2K",
      "TrackingController": "2K",
      "AddressingForm": 0
    },
    "FFT932": {
      "Callsign": "FFT932",
      "AircraftType": "A20N",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 6276,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "Frontier Flight 932": {
      "Callsign": "FFT932",
      "AircraftType": "A20N",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 6276,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "RPA8845": {
      "Callsign": "RPA8845",
      "AircraftType": "E75L",
      "Fixes": {
        "Candor": "CANDR",
        "Deez": "DEEZZ"
      },
      "CandidateApproaches": null,
      "AssignedApproach": "",
      "SID": "DEEZZ5",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "2J",
      "TrackingController": "2J",
      "AddressingForm": 0
    },
    "TAM8386": {
      "Callsign": "TAM8386",
      "AircraftType": "B77W",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "",
      "Altitude": 9000,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "Tam 8386 heavy": {
      "Callsign": "TAM8386",
      "AircraftType": "B77W",
      "Fixes": {
        "Assault": "ASALT",
        "Canarsie": "CNRSE",
        "John F Kennedy International Airport": "KJFK",
        "Lisa": "LEISA",
        "Robje": "ROBJE",
        "Silgy": "SILJY"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "RNAV Z Runway 13 Left",
      "SID": "",
      "STAR": "",
      "Altitude": 9000,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0
    },
    "UAE4US": {
      "Callsign": "UAE4US",
      "AircraftType": "A388",
      "Fixes": {
        "Cimble": "CIMBL",
        "Crail": "CRAIL",
        "Deer Park": "DPK",
        "Detgy": "DETGY",
        "Hair": "HAIRR",
        "Haupt": "HAUPT",
        "John F Kennedy International Airport": "KJFK",
        "Lefer": "LEFER",
        "Norton": "NRTON",
        "Rober": "ROBER",
        "Rosley": "ROSLY",
        "Sajul": "SAJUL",
        "Seagull": "CEEGL",
        "Tapper": "TAPPR",
        "Zalpo": "ZALPO"
      },
      "CandidateApproaches": {
        "Belmont Visual runway two two Left": "BVA",
        "I L S runway one three left": "I3L",
        "I L S runway two two left": "I2L",
        "Parkway Visual runway one three Left": "PVA",
        "r-nav x-ray runway two two left": "R2L",
        "r-nav zulu runway one three Left": "R3L"
      },
      "AssignedApproach": "ILS Runway 22L",
      "SID": "",
      "STAR": "PARCH4",
      "Altitude": 12000,
      "State": "arrival",
      "ControllerFrequency": "2K",
      "TrackingController": "2K",
      "AddressingForm": 0
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"Rickyard 8845, proceed direct Deezz, climb and maintain flight level one nine or zero\"",
    "[local-stt] normalized words: [rickyard 8845 proceed direct deezz climb and maintain flight level 1 9 0]",
    "[local-stt] tokens: 9",
    "[local-stt]   token[0]: Text=\"rickyard\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"8845\" Type=1 Value=8845",
    "[local-stt]   token[2]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"deezz\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"climb\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"and\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"maintain\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"FL190\" Type=2 Value=190",
    "[local-stt] MatchCallsign: 9 tokens, 16 aircraft",
    "[local-stt]   candidate \"FFT932\" (ICAO=\"FFT932\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Delta 90\" (ICAO=\"DAL90\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"DAL90\" (ICAO=\"DAL90\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Brickyard 8845\" (ICAO=\"RPA8845\"): score=1.00 consumed=2",
    "[local-stt]   candidate \"UAE4US\" (ICAO=\"UAE4US\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Delta 7973\" (ICAO=\"DAL7973\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 83\" (ICAO=\"AAL83\"): score=0.67 consumed=1",
    "[local-stt]   candidate \"AAL83\" (ICAO=\"AAL83\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Air France 7461 heavy\" (ICAO=\"AFR7461\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"RPA8845\" (ICAO=\"RPA8845\"): score=1.00 consumed=2",
    "[local-stt]   candidate \"TAM8386\" (ICAO=\"TAM8386\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Emirates 4US super\" (ICAO=\"UAE4US\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"AFR7461\" (ICAO=\"AFR7461\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Tam 8386 heavy\" (ICAO=\"TAM8386\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"DAL7973\" (ICAO=\"DAL7973\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Frontier Flight 932\" (ICAO=\"FFT932\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Brickyard 8845\" at pos 1: score=1.00 (adjusted=0.90) consumed=1",
    "[local-stt]   candidate \"RPA8845\" at pos 1: score=1.00 (adjusted=0.90) consumed=1",
    "[local-stt]   accepted: \"RPA8845\" (conf=1.00, consumed=2, startPos=0)",
    "[local-stt] callsign match: Callsign=\"RPA8845\" SpokenKey=\"Brickyard 8845\" Conf=1.00 Consumed=2",
    "[local-stt] aircraft context: State=\"departure\" Altitude=5000 Fixes=2 Approaches=0 AssignedApproach=\"\"",
    "[local-stt]   fix: \"Deez\" -\u003e \"DEEZZ\"",
    "[local-stt]   fix: \"Candor\" -\u003e \"CANDR\"",
    "[local-stt] command tokens after disregard: 7",
    "[local-stt]   token[0]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"deezz\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"climb\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"and\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"maintain\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"FL190\" Type=2 Value=190",
    "[local-stt]   position ID: found command keyword \"proceed\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 7 tokens",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[direct deezz climb]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"direct\" against 2 fixes",
    "[local-stt]   extractFix: no match found for \"direct\"",
    "[local-stt]   no match at token[0]=\"proceed\", skipping",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[deezz climb and]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"deezz\" against 2 fixes",
    "[local-stt]   extractFix: matched \"deezz\" -\u003e \"DEEZZ\" (fuzzy 0.96)",
    "[local-stt]   tryMatchTemplate \"direct_fix\": cmd=\"DDEEZZ\" argStr=\"DEEZZ\" consumed=2",
    "[local-stt]   matched command: \"DDEEZZ\" (conf=0.96, consumed=2, isThen=false)",
    "[local-stt]   tryMatchTemplate \"climb_maintain\": cmd=\"C190\" argStr=\"190\" consumed=4",
    "[local-stt]   tryMatchTemplate \"climb\": cmd=\"C190\" argStr=\"190\" consumed=4",
    "[local-stt]   matched command: \"C190\" (conf=1.00, consumed=4, isThen=false)",
    "[local-stt] ParseCommands: result=[DDEEZZ C190] (avgConf=0.98)",
    "[local-stt] parsed commands: [DDEEZZ C190] (conf=0.98)",
    "[local-stt] validated commands: [DDEEZZ C190] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"RPA8845 DDEEZZ C190\" (conf=0.98, time=277.042Âµs) ==="
  ]
}