{
  "time": "2026-01-26T17:48:52.775572129Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "1348, Expectiles approach runway 04 left, Detend main time, 040",
  "whisper_duration_ms": 490.623,
  "audio_duration_ms": 8832,
  "processor": "GPU: Intel(R) Arc(TM) B580 Graphics (12112MB)",
  "callsign": "EDV1348",
  "command": "EI4L D40",
  "stt_aircraft": {
    "American 10 heavy": {
      "Callsign": "AAL10",
      "AircraftType": "B77W",
      "Fixes": {
        "J F K": "KJFK",
        "Kennedy": "KJFK"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "",
      "STAR": "PUCKY1",
      "Altitude": 19000,
      "State": "arrival",
      "ControllerFrequency": "2E",
      "TrackingController": "2E",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 310": {
      "Callsign": "AAL310",
      "AircraftType": "B738",
      "Fixes": {
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Pucky": "PUCKY",
        "Vadder": "VADDR"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "",
      "STAR": "PUCKY1",
      "Altitude": 19000,
      "State": "arrival",
      "ControllerFrequency": "2E",
      "TrackingController": "2E",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 496 heavy": {
      "Callsign": "AAL496",
      "AircraftType": "B772",
      "Fixes": {
        "Cameron": "CAMRN",
        "J F K": "KJFK",
        "Kennedy": "KJFK"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "",
      "STAR": "",
      "Altitude": 9000,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 8267 heavy": {
      "Callsign": "AAL8267",
      "AircraftType": "B77W",
      "Fixes": {
        "Ebee": "EBBEE",
        "J F K": "KJFK",
        "Kennedy": "KJFK",
        "Zetal": "ZETAL"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 4R",
      "SID": "",
      "STAR": "",
      "Altitude": 5000,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Endeavor 1348": {
      "Callsign": "EDV1348",
      "AircraftType": "CRJ9",
      "Fixes": {
        "J F K": "KJFK",
        "Kennedy": "KJFK"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 11000,
      "State": "arrival",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "ExecJet 5879": {
      "Callsign": "EJA5879",
      "AircraftType": "C680",
      "Fixes": {
        "Crystal": "KRSTL",
        "J F K": "KJFK",
        "Kennedy": "KJFK"
      },
      "CandidateApproaches": {
        "I L S runway four left": "I4L",
        "I L S runway four right": "I4R",
        "r-nav yankee runway four left": "R4L",
        "r-nav yankee runway four right": "R4R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 4L",
      "SID": "",
      "STAR": "CAMRN5",
      "Altitude": 3691,
      "State": "on approach",
      "ControllerFrequency": "2G",
      "TrackingController": "2G",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "november 247PF": {
      "Callsign": "N247PF",
      "AircraftType": "",
      "Fixes": {
        "Danbury": "KDXR"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "",
      "STAR": "",
      "Altitude": 2346,
      "State": "",
      "ControllerFrequency": "2G",
      "TrackingController": "",
      "AddressingForm": 0,
      "LAHSORunways": null
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"1348, Expectiles approach runway 04 left, Detend main time, 040\"",
    "[local-stt] normalized words: [1348 expect ils approach runway 04 left detend main time 040]",
    "[local-stt] tokens: 11",
    "[local-stt]   token[0]: Text=\"1348\" Type=1 Value=1348",
    "[local-stt]   token[1]: Text=\"expect\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"approach\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"04\" Type=1 Value=4",
    "[local-stt]   token[6]: Text=\"left\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"detend\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"main\" Type=0 Value=-1",
    "[local-stt]   token[9]: Text=\"time\" Type=0 Value=-1",
    "[local-stt]   token[10]: Text=\"040\" Type=1 Value=40",
    "[local-stt] MatchCallsign: 11 tokens, 7 aircraft",
    "[local-stt]   candidate \"American 310\" (ICAO=\"AAL310\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"november 247PF\" (ICAO=\"N247PF\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 10 heavy\" (ICAO=\"AAL10\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"ExecJet 5879\" (ICAO=\"EJA5879\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 8267 heavy\" (ICAO=\"AAL8267\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Endeavor 1348\" (ICAO=\"EDV1348\"): score=1.00 consumed=1",
    "[local-stt]   candidate \"American 496 heavy\" (ICAO=\"AAL496\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"ExecJet 5879\" at pos 1: score=0.88 (adjusted=0.79) consumed=1",
    "[local-stt]   candidate \"American 496 heavy\" at pos 3: score=0.78 (adjusted=0.55) consumed=3",
    "[local-stt]   accepted: \"EDV1348\" (conf=1.00, consumed=1, startPos=0)",
    "[local-stt] callsign match: Callsign=\"EDV1348\" SpokenKey=\"Endeavor 1348\" Conf=1.00 Consumed=1",
    "[local-stt] aircraft context: State=\"arrival\" Altitude=11000 Fixes=2 Approaches=4 AssignedApproach=\"\"",
    "[local-stt]   fix: \"Kennedy\" -\u003e \"KJFK\"",
    "[local-stt]   fix: \"J F K\" -\u003e \"KJFK\"",
    "[local-stt]   approach: \"r-nav yankee runway four left\" -\u003e \"R4L\"",
    "[local-stt]   approach: \"I L S runway four left\" -\u003e \"I4L\"",
    "[local-stt]   approach: \"I L S runway four right\" -\u003e \"I4R\"",
    "[local-stt]   approach: \"r-nav yankee runway four right\" -\u003e \"R4R\"",
    "[local-stt] command tokens after disregard: 10",
    "[local-stt]   token[0]: Text=\"expect\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"ils\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"approach\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"runway\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"04\" Type=1 Value=4",
    "[local-stt]   token[5]: Text=\"left\" Type=0 Value=-1",
    "[local-stt]   token[6]: Text=\"detend\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"main\" Type=0 Value=-1",
    "[local-stt]   token[8]: Text=\"time\" Type=0 Value=-1",
    "[local-stt]   token[9]: Text=\"040\" Type=1 Value=40",
    "[local-stt]   position ID: found command keyword \"expect\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 10 tokens",
    "[local-stt]   tryMatchTemplate \"expect_approach\": cmd=\"EI4L\" argStr=\"I4L\" consumed=6",
    "[local-stt]   matched command: \"EI4L\" (conf=0.89, consumed=6, isThen=false)",
    "[local-stt]   tryMatchTemplate \"descend_maintain\": cmd=\"D40\" argStr=\"40\" consumed=4",
    "[local-stt]   tryMatchTemplate \"descend\": cmd=\"D40\" argStr=\"40\" consumed=4",
    "[local-stt]   tryMatchTemplate \"ident_only\": cmd=\"ID\" argStr=\"\" consumed=1",
    "[local-stt]   matched command: \"D40\" (conf=1.00, consumed=4, isThen=false)",
    "[local-stt] ParseCommands: result=[EI4L D40] (avgConf=0.94)",
    "[local-stt] parsed commands: [EI4L D40] (conf=0.94)",
    "[local-stt] validated commands: [EI4L D40] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"EDV1348 EI4L D40\" (conf=0.94, time=0s) ==="
  ]
}