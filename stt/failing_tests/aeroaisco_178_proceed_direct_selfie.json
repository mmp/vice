{
  "time": "2026-01-25T22:08:16.25317286Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "AeroAisco 178, proceed direct selfie.",
  "whisper_duration_ms": 308.369,
  "audio_duration_ms": 2560,
  "processor": "GPU: NVIDIA GeForce RTX 3060 Ti (8238MB)",
  "callsign": "AMX178",
  "command": "DSELFI",
  "stt_aircraft": {
    "AeroMexico 178": {
      "Callsign": "AMX178",
      "AircraftType": "E190",
      "Fixes": {
        "Blart": "BLART",
        "Deals": "DEALZ",
        "Glads": "GLADZ",
        "Rutleg": "RUTLG",
        "gator": "GAYTR",
        "live": "LIIVV",
        "selfie": "SELFI"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "GLADZ4",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 459": {
      "Callsign": "AAL459",
      "AircraftType": "B38M",
      "Fixes": {
        "Bongos": "BNGOS",
        "Deals": "DEALZ",
        "Moreno": "MRENO",
        "Niblet": "NIBLT",
        "live": "LIIVV"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "BNGOS4",
      "STAR": "",
      "Altitude": 5000,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 493": {
      "Callsign": "AAL493",
      "AircraftType": "B738",
      "Fixes": {
        "Deals": "DEALZ",
        "Hurcin": "HURCN",
        "Jones": "JOENZ",
        "Niblet": "NIBLT",
        "Salt": "CSALT",
        "live": "LIIVV"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "HURCN4",
      "STAR": "",
      "Altitude": 945,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Spirit Wings 2061": {
      "Callsign": "NKS2061",
      "AircraftType": "A321",
      "Fixes": {
        "Agers": "AGERS",
        "Alton": "ALTNN",
        "Deals": "DEALZ",
        "Ferry": "FARRY",
        "Salt": "CSALT",
        "live": "LIIVV",
        "perts": "PERTS"
      },
      "CandidateApproaches": null,
      "ApproachFixes": null,
      "AssignedApproach": "",
      "SID": "ALTNN2",
      "STAR": "",
      "Altitude": 2105,
      "State": "departure",
      "ControllerFrequency": "1W",
      "TrackingController": "1W",
      "AddressingForm": 0,
      "LAHSORunways": null
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"AeroAisco 178, proceed direct selfie.\"",
    "[local-stt] normalized words: [aeroaisco 178 proceed direct selfie]",
    "[local-stt] tokens: 5",
    "[local-stt]   token[0]: Text=\"aeroaisco\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"178\" Type=1 Value=178",
    "[local-stt]   token[2]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[4]: Text=\"selfie\" Type=0 Value=-1",
    "[local-stt] MatchCallsign: 5 tokens, 4 aircraft",
    "[local-stt]   candidate \"Spirit Wings 2061\" (ICAO=\"NKS2061\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 493\" (ICAO=\"AAL493\"): score=0.60 consumed=1",
    "[local-stt]   candidate \"AeroMexico 178\" (ICAO=\"AMX178\"): score=1.04 consumed=2",
    "[local-stt]   candidate \"American 459\" (ICAO=\"AAL459\"): score=0.60 consumed=1",
    "[local-stt]   candidate \"AeroMexico 178\" at pos 1: score=1.00 (adjusted=0.90) consumed=1",
    "[local-stt]   accepted: \"AMX178\" (conf=1.04, consumed=2, startPos=0)",
    "[local-stt] callsign match: Callsign=\"AMX178\" SpokenKey=\"AeroMexico 178\" Conf=1.04 Consumed=2",
    "[local-stt] aircraft context: State=\"departure\" Altitude=5000 Fixes=7 Approaches=0 AssignedApproach=\"\"",
    "[local-stt]   fix: \"Blart\" -\u003e \"BLART\"",
    "[local-stt]   fix: \"selfie\" -\u003e \"SELFI\"",
    "[local-stt]   fix: \"gator\" -\u003e \"GAYTR\"",
    "[local-stt]   fix: \"Rutleg\" -\u003e \"RUTLG\"",
    "[local-stt]   fix: \"Glads\" -\u003e \"GLADZ\"",
    "[local-stt]   fix: \"Deals\" -\u003e \"DEALZ\"",
    "[local-stt]   fix: \"live\" -\u003e \"LIIVV\"",
    "[local-stt] command tokens after disregard: 3",
    "[local-stt]   token[0]: Text=\"proceed\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"direct\" Type=0 Value=-1",
    "[local-stt]   token[2]: Text=\"selfie\" Type=0 Value=-1",
    "[local-stt]   position ID: found command keyword \"proceed\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 3 tokens",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[direct selfie]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"direct\" against 7 fixes",
    "[local-stt]   extractFix: no match found for \"direct\"",
    "[local-stt]   no match at token[0]=\"proceed\", skipping",
    "[local-stt]   tryMatchTemplate \"direct_fix\": keywords matched, consumed=1, next tokens=[selfie]",
    "[local-stt]   extractFix: trying to match tokens[0]=\"selfie\" against 7 fixes",
    "[local-stt]   extractFix: matched \"selfie\" -\u003e \"SELFI\" (exact)",
    "[local-stt]   extractFix: matched \"selfie\" -\u003e \"SELFI\" (fuzzy 1.00)",
    "[local-stt]   tryMatchTemplate \"direct_fix\": cmd=\"DSELFI\" argStr=\"SELFI\" consumed=2",
    "[local-stt]   matched command: \"DSELFI\" (conf=1.00, consumed=2, isThen=false)",
    "[local-stt] ParseCommands: result=[DSELFI] (avgConf=1.00)",
    "[local-stt] parsed commands: [DSELFI] (conf=1.00)",
    "[local-stt] validated commands: [DSELFI] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"AMX178 DSELFI\" (conf=1.04, time=0s) ==="
  ]
}