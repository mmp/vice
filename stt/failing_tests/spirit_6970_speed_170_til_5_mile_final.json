{
  "time": "2026-01-25T21:59:28.601567931Z",
  "level": "INFO",
  "msg": "STT command",
  "callstack": [
    "dispatcher.go:673:/server.(*dispatcher).RunAircraftCommands",
    "value.go:581:reflect.Value.call",
    "value.go:365:reflect.Value.Call",
    "server.go:383:net/rpc.(*service).call",
    "asm_amd64.s:1693:runtime.goexit"
  ],
  "transcript": "Spirit 6970, Speed 170, Til 5 mile final.",
  "whisper_duration_ms": 432.556,
  "audio_duration_ms": 2944,
  "processor": "GPU: AMD Radeon RX 7600 (8176MB)",
  "callsign": "NKS6970",
  "command": "S170",
  "stt_aircraft": {
    "American 25 heavy": {
      "Callsign": "AAL25",
      "AircraftType": "B77W",
      "Fixes": {
        "Ines": "INESS",
        "Miami": "KMIA"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "FROGZ4",
      "Altitude": 1798,
      "State": "on approach",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 430": {
      "Callsign": "AAL430",
      "AircraftType": "B738",
      "Fixes": {
        "Bills": "BILZZ",
        "Ines": "INESS",
        "Leg": "LLEGG",
        "Miami": "KMIA",
        "grit": "GRITT"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "VIICE2",
      "Altitude": 5000,
      "State": "arrival",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "American 6065": {
      "Callsign": "AAL6065",
      "AircraftType": "B738",
      "Fixes": {
        "Fort Lauderdale": "KFLL",
        "Holid": "HOLID",
        "Nova": "NOVAE",
        "Wanar": "WANAR",
        "Warrior": "WAROR",
        "gamvy": "GAMVE"
      },
      "CandidateApproaches": {
        "I L S runway one zero left": "I0L",
        "I L S runway one zero right": "I0R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 10L",
      "SID": "",
      "STAR": "CUUDA3",
      "Altitude": 3000,
      "State": "arrival",
      "ControllerFrequency": "1F",
      "TrackingController": "1F",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Avianca 573": {
      "Callsign": "AVA573",
      "AircraftType": "A319",
      "Fixes": {
        "Ines": "INESS",
        "Leg": "LLEGG",
        "Miami": "KMIA",
        "grit": "GRITT"
      },
      "CandidateApproaches": {
        "I L S runway niner": "I9",
        "I L S runway one two": "I12",
        "r-nav runway eight left": "R8L"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 9",
      "SID": "",
      "STAR": "SNDBR3",
      "Altitude": 5347,
      "State": "arrival",
      "ControllerFrequency": "1A",
      "TrackingController": "1A",
      "AddressingForm": 0,
      "LAHSORunways": null
    },
    "Spirit Wings 6970": {
      "Callsign": "NKS6970",
      "AircraftType": "A320",
      "Fixes": {
        "Fort Lauderdale": "KFLL",
        "Holid": "HOLID",
        "Nova": "NOVAE",
        "Warrior": "WAROR",
        "gamvy": "GAMVE"
      },
      "CandidateApproaches": {
        "I L S runway one zero left": "I0L",
        "I L S runway one zero right": "I0R"
      },
      "ApproachFixes": null,
      "AssignedApproach": "ILS Runway 10L",
      "SID": "",
      "STAR": "TEEKY3",
      "Altitude": 5000,
      "State": "arrival",
      "ControllerFrequency": "1F",
      "TrackingController": "1F",
      "AddressingForm": 0,
      "LAHSORunways": null
    }
  },
  "logs": [
    "[local-stt] === DecodeTranscript START ===",
    "[local-stt] input transcript: \"Spirit 6970, Speed 170, Til 5 mile final.\"",
    "[local-stt] normalized words: [spirit 6970 speed 170 til 5 mile final]",
    "[local-stt] tokens: 8",
    "[local-stt]   token[0]: Text=\"spirit\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"6970\" Type=1 Value=6970",
    "[local-stt]   token[2]: Text=\"speed\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"170\" Type=1 Value=170",
    "[local-stt]   token[4]: Text=\"til\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"5\" Type=1 Value=5",
    "[local-stt]   token[6]: Text=\"mile\" Type=0 Value=-1",
    "[local-stt]   token[7]: Text=\"final\" Type=0 Value=-1",
    "[local-stt] MatchCallsign: 8 tokens, 5 aircraft",
    "[local-stt]   candidate \"American 430\" (ICAO=\"AAL430\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Avianca 573\" (ICAO=\"AVA573\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Spirit Wings 6970\" (ICAO=\"NKS6970\"): score=1.10 consumed=2",
    "[local-stt]   candidate \"American 6065\" (ICAO=\"AAL6065\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"American 25 heavy\" (ICAO=\"AAL25\"): score=0.00 consumed=0",
    "[local-stt]   candidate \"Spirit Wings 6970\" at pos 1: score=1.00 (adjusted=0.90) consumed=1",
    "[local-stt]   candidate \"Spirit Wings 6970\" at pos 2: score=0.76 (adjusted=0.61) consumed=2",
    "[local-stt]   candidate \"American 25 heavy\" at pos 3: score=0.85 (adjusted=0.59) consumed=3",
    "[local-stt]   candidate \"Avianca 573\" at pos 3: score=0.80 (adjusted=0.56) consumed=3",
    "[local-stt]   candidate \"American 6065\" at pos 3: score=0.85 (adjusted=0.59) consumed=3",
    "[local-stt]   accepted: \"NKS6970\" (conf=1.10, consumed=2, startPos=0)",
    "[local-stt] callsign match: Callsign=\"NKS6970\" SpokenKey=\"Spirit Wings 6970\" Conf=1.10 Consumed=2",
    "[local-stt] aircraft context: State=\"arrival\" Altitude=5000 Fixes=5 Approaches=2 AssignedApproach=\"ILS Runway 10L\"",
    "[local-stt]   fix: \"Holid\" -\u003e \"HOLID\"",
    "[local-stt]   fix: \"gamvy\" -\u003e \"GAMVE\"",
    "[local-stt]   fix: \"Warrior\" -\u003e \"WAROR\"",
    "[local-stt]   fix: \"Nova\" -\u003e \"NOVAE\"",
    "[local-stt]   fix: \"Fort Lauderdale\" -\u003e \"KFLL\"",
    "[local-stt]   approach: \"I L S runway one zero left\" -\u003e \"I0L\"",
    "[local-stt]   approach: \"I L S runway one zero right\" -\u003e \"I0R\"",
    "[local-stt] command tokens after disregard: 6",
    "[local-stt]   token[0]: Text=\"speed\" Type=0 Value=-1",
    "[local-stt]   token[1]: Text=\"170\" Type=1 Value=170",
    "[local-stt]   token[2]: Text=\"til\" Type=0 Value=-1",
    "[local-stt]   token[3]: Text=\"5\" Type=1 Value=5",
    "[local-stt]   token[4]: Text=\"mile\" Type=0 Value=-1",
    "[local-stt]   token[5]: Text=\"final\" Type=0 Value=-1",
    "[local-stt]   position ID: found command keyword \"speed\" at position 0 - not just position ID",
    "[local-stt] ParseCommands: 6 tokens",
    "[local-stt]   tryMatchTemplate \"speed_only\": cmd=\"S170\" argStr=\"170\" consumed=2",
    "[local-stt]   matched command: \"S170\" (conf=1.00, consumed=2, isThen=false)",
    "[local-stt]   no match at token[2]=\"til\", skipping",
    "[local-stt]   no match at token[3]=\"5\", skipping",
    "[local-stt]   no match at token[4]=\"mile\", skipping",
    "[local-stt]   no match at token[5]=\"final\", skipping",
    "[local-stt] ParseCommands: result=[S170] (avgConf=1.00)",
    "[local-stt] parsed commands: [S170] (conf=1.00)",
    "[local-stt] validated commands: [S170] (conf=1.00)",
    "[local-stt] === DecodeTranscript END: \"NKS6970 S170\" (conf=1.10, time=1.0035ms) ==="
  ]
}